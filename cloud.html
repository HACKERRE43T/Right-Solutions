<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Right Solutions A.I. Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        html { scroll-behavior: smooth; }
        body { font-family: 'Inter', sans-serif; overflow: hidden; } /* Hide scrollbars during intro */

        /* --- Transitions & Animations --- */
        #intro-overlay, #notification, .modal-container, .main-content-area, #sidebar, .usage-bar { transition: all 0.4s ease-in-out; }
        @media (max-width: 768px) { #sidebar.hidden-mobile { transform: translateX(-100%); } }
        
        /* --- Component States --- */
        .tab-active { border-bottom-color: #3b82f6; color: #1f2937; font-weight: 600; }
        .nav-link.active { background-color: #eff6ff; border-left-color: #3b82f6; color: #1e40af; font-weight: 600; }

        /* --- Intro Animation --- */
        #intro-overlay { z-index: 100; }
        #intro-logo { animation: float 3s ease-in-out infinite; }
        #intro-text span { opacity: 0; animation: fadeIn 0.5s forwards; }
        @keyframes fadeIn { to { opacity: 1; } }
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-15px); } }

        /* --- Main Content Loading Animation --- */
        .main-content-area { opacity: 0; transform: translateY(20px); }
        .main-content-area.loaded { opacity: 1; transform: translateY(0); }
        
        /* --- Scrollbar --- */
        #playground-chat-window::-webkit-scrollbar { width: 6px; }
        #playground-chat-window::-webkit-scrollbar-track { background: #f1f5f9; }
        #playground-chat-window::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        #playground-chat-window::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        /* --- Helper for button loading state --- */
        .spinner {
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top-color: #ffffff;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-gray-50 text-gray-900">

    <div id="intro-overlay" class="fixed inset-0 bg-gray-900 flex flex-col items-center justify-center transition-opacity duration-700">
        <svg id="intro-logo" class="h-24 w-24 text-blue-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"/></svg>
        <h1 id="intro-text" class="text-white text-3xl font-bold mt-6 tracking-wider"></h1>
        <p class="text-blue-400 mt-2">Loading AI Platform...</p>
    </div>

    <div id="app-container" class="flex h-screen opacity-0 transition-opacity duration-500">
        <aside id="sidebar" class="bg-white w-64 flex-shrink-0 border-r border-gray-200 fixed inset-y-0 left-0 z-40 transform md:relative md:translate-x-0 hidden-mobile">
            <div class="p-4 border-b border-gray-200 flex items-center space-x-3">
                <svg class="h-8 w-8 text-blue-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"/></svg>
                <span class="text-xl font-bold">Right Solutions</span>
            </div>
            <nav class="py-4">
                <a href="#dashboard" class="nav-link flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100 border-l-4 border-transparent">
                    <svg class="h-5 w-5 mr-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" /></svg>
                    Dashboard
                </a>
                <a href="#dev-platform" class="nav-link flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100 border-l-4 border-transparent">
                    <svg class="h-5 w-5 mr-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414l-3 3a1 1 0 01-1.414-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
                    Developer Platform
                </a>
                <a href="#marketplace" class="nav-link flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100 border-l-4 border-transparent">
                    <svg class="h-5 w-5 mr-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H4.792L4.25 1H3z" /><path d="M16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" /></svg>
                    Marketplace
                </a>
            </nav>
        </aside>

        <div class="flex-1 flex flex-col overflow-y-auto">
            <header class="bg-white shadow-sm sticky top-0 z-30">
                <div class="max-w-full mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center h-16"><div class="flex items-center"><button id="menu-btn" class="md:hidden p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100"><svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button><h1 id="header-title" class="text-xl font-semibold text-gray-800 ml-4 hidden sm:block">Dashboard</h1></div><div class="flex items-center space-x-4"><div class="bg-blue-100 text-blue-800 text-sm font-semibold px-4 py-2 rounded-lg"><span>Credits: â‚¹</span><span id="credit-amount">500</span></div></div></div></div>
            </header>

            <main class="flex-1 p-6 md:p-10 main-content-area">

                <section id="dashboard" class="mb-10">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">Project Overview</h2>
                        <button id="create-project-btn" class="inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700">
                            Create New Project
                        </button>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="bg-white p-6 rounded-lg border border-gray-200">
                            <h3 class="font-semibold text-gray-900">Current Project</h3>
                            <select id="project-selector" class="mt-2 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md"></select>
                        </div>
                        <div class="bg-white p-6 rounded-lg border border-gray-200">
                            <h3 class="font-semibold text-gray-900">Billing Status</h3>
                            <p id="billing-status-text" class="text-2xl font-bold mt-2 text-red-500">Inactive</p>
                            <button id="setup-billing-btn" class="mt-2 text-sm text-blue-600 hover:underline">Setup Billing</button>
                        </div>
                         <div class="bg-white p-6 rounded-lg border border-gray-200">
                            <h3 class="font-semibold text-gray-900">API Usage (Month)</h3>
                            <p class="text-2xl font-bold mt-2">1,450 <span class="text-sm font-normal text-gray-500">requests</span></p>
                        </div>
                    </div>
                </section>

                <section id="dev-platform" class="mb-10">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 pt-4">Developer Platform</h2>
                    <div class="bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden">
                        <div class="border-b border-gray-200"><nav class="-mb-px flex space-x-6 px-6 overflow-x-auto" aria-label="Tabs"><button data-tab="start" class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 tab-active">Get Started</button><button data-tab="playground" class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">Playground</button><button data-tab="models" class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">Models</button><button data-tab="keys" class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">API Keys</button><button data-tab="snippets" class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">Code Snippets</button><button data-tab="usage" class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">Usage</button></nav></div>
                        <div class="p-6">
                            <div id="tab-content-start" class="tab-content"><h3 class="text-lg font-medium text-gray-900">Access Our Models via API</h3><p class="mt-2 text-gray-600">Our APIs provide direct access to Sahrasashakthi models. Follow our documentation to learn how to make your first API call, handle responses, and build amazing things.</p><div class="mt-6 flex flex-col sm:flex-row gap-4"><a href="#" class="inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200">Read Documentation</a><button id="book-call-btn" class="inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">Book a Consultation Call</button></div></div>
                            <div id="tab-content-playground" class="tab-content hidden"><div class="flex justify-between items-center mb-4"><h3 class="text-lg font-medium text-gray-900">Model Playground</h3><div class="flex items-center space-x-2"><label for="playground-model-select" class="text-sm font-medium text-gray-700">Model:</label><select id="playground-model-select" class="rounded-md border-gray-300 shadow-sm text-sm"><option value="sahasra-v2-190b-vision">Sahrasashakthi v2</option><option value="sahasra-v1-32b">Sahrasashakthi v1</option></select></div></div><div id="playground-chat-window" class="h-80 bg-gray-50 rounded-lg p-4 border border-gray-200 overflow-y-auto space-y-4"></div><div class="mt-4 flex items-center space-x-2"><textarea id="playground-input" placeholder="Enter your prompt here..." class="flex-grow rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500" rows="1"></textarea><button id="playground-send-btn" class="bg-blue-600 text-white rounded-full p-3 hover:bg-blue-700 flex-shrink-0 disabled:bg-blue-400 disabled:cursor-not-allowed"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" /></svg></button></div></div>
                            <div id="tab-content-models" class="tab-content hidden"><h3 class="text-lg font-medium text-gray-900">Available Foundation Models</h3><div class="mt-4 flow-root"><div class="-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"><div class="inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"><table class="min-w-full divide-y divide-gray-300"><thead><tr><th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0">Model Name</th><th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">API Identifier</th><th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Status</th><th scope="col" class="relative py-3.5 pl-3 pr-4 sm:pr-0"><span class="sr-only">Copy</span></th></tr></thead><tbody class="divide-y divide-gray-200"><tr><td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0">Sahrasashakthi v2</td><td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 font-mono">sahasra-v2-190b-vision</td><td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"><span class="inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20">Available</span></td><td class="relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0"><button class="copy-model-id-btn text-blue-600 hover:text-blue-900" data-id="sahasra-v2-190b-vision">Copy ID</button></td></tr><tr><td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0">Sahrasashakthi v1</td><td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 font-mono">sahasra-v1-32b</td><td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"><span class="inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20">Available</span></td><td class="relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0"><button class="copy-model-id-btn text-blue-600 hover:text-blue-900" data-id="sahasra-v1-32b">Copy ID</button></td></tr></tbody></table></div></div></div></div>
                            <div id="tab-content-keys" class="tab-content hidden"><div class="flex justify-between items-center"><h3 class="text-lg font-medium text-gray-900">Your API Keys</h3><button id="generate-key-btn" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700">Generate New Secret Key</button></div><p class="mt-2 text-gray-600">Your secret API keys are listed below. Please note that we do not display your secret keys again after you generate them.</p><div id="api-key-list" class="mt-4 space-y-3"></div></div>
                            <div id="tab-content-snippets" class="tab-content hidden"><h3 class="text-lg font-medium text-gray-900">API Request Examples</h3><p class="mt-2 text-gray-600">Here's how you can call our API using cURL or Python. Replace `YOUR_API_KEY` with a key you generated.</p><div class="mt-4 grid grid-cols-1 lg:grid-cols-2 gap-6"><div class="bg-gray-800 rounded-lg"><div class="p-4"><h4 class="font-semibold text-gray-300 mb-2">cURL</h4><pre><code class="language-bash text-sm text-gray-300">curl https://api.right... \
-H "Authorization: Bearer YOUR_API_KEY" \
-d '{ "model": "sahasra-v2-190b-vision", "prompt": "..." }'</code></pre></div></div><div class="bg-gray-800 rounded-lg"><div class="p-4"><h4 class="font-semibold text-gray-300 mb-2">Python</h4><pre><code class="language-python text-sm text-gray-300">import requests

API_KEY = "YOUR_API_KEY"
headers = {
    'Authorization': f'Bearer {API_KEY}',
}
json_data = {
    'model': 'sahasra-v2-190b-vision',
    'prompt': 'Suggest three names...',
}
response = requests.post(...)</code></pre></div></div></div></div>
                            <div id="tab-content-usage" class="tab-content hidden">
                                <h3 class="text-lg font-medium text-gray-900">API Usage (Last 7 Days)</h3>
                                <div id="usage-chart-container" class="mt-4 h-60 bg-gray-50 rounded-lg p-4 flex items-end justify-around"></div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <section id="marketplace" class="mb-10">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 pt-4">Marketplace Products</h2>
                    <div id="billing" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8">
                        <div class="bg-white rounded-lg border border-gray-200 overflow-hidden flex flex-col"><div class="p-6 flex-grow"><div class="flex items-center space-x-4 mb-4"><div class="bg-green-100 p-3 rounded-lg"><svg class="h-6 w-6 text-green-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418" /></svg></div><h2 class="text-xl font-bold text-gray-800">Niyamashakthi</h2></div><p class="text-gray-600">AI-powered legal assistant. Access a vast database of legal knowledge instantly.</p></div><div class="p-4 bg-gray-50 border-t border-gray-200 flex flex-col sm:flex-row gap-3"><a href="https://niyamashakthi-sigma.vercel.app" target="_blank" class="w-full text-center bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors">Try Web App</a><a href="https://play.google.com/store/apps/details?id=com.rightsolution.niyamashakthi&hl=en" target="_blank" class="w-full text-center bg-gray-800 text-white font-semibold py-2 px-4 rounded-lg hover:bg-black transition-colors">Get Android App</a></div></div>
                        <div class="relative bg-white rounded-lg border border-gray-200 overflow-hidden flex flex-col"><span class="absolute top-4 right-4 bg-red-100 text-red-800 text-xs font-semibold px-3 py-1 rounded-full">PREMIUM</span><div class="p-6 flex-grow"><div class="flex items-center space-x-4 mb-4"><div class="bg-orange-100 p-3 rounded-lg"><svg class="h-6 w-6 text-orange-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.362-3.797A8.33 8.33 0 0 1 15.362 5.214Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 0 1 15 0" /></svg></div><h2 class="text-xl font-bold text-gray-800">Agnideva.AI</h2></div><p class="text-gray-600">Specialized AI for Indian firefighter units. Provides real-time situational analysis.</p><p class="mt-4 text-sm text-red-600 font-semibold">Cost: â‚¹200 credits to try.</p></div><div class="p-4 bg-gray-50 border-t border-gray-200"><button id="try-agnideva" class="w-full bg-red-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors">Try It Out</button></div></div>
                        <div class="relative bg-white rounded-lg border border-gray-200 overflow-hidden flex flex-col"><span class="absolute top-4 right-4 bg-indigo-100 text-indigo-800 text-xs font-semibold px-3 py-1 rounded-full">PRODUCTIVITY SUITE</span><div class="p-6 flex-grow"><div class="flex items-center space-x-4 mb-4"><div class="bg-indigo-100 p-3 rounded-lg"><svg class="h-6 w-6 text-indigo-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h12M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-1.5m-15 0v5.25A2.25 2.25 0 0 0 6 24h12a2.25 2.25 0 0 0 2.25-2.25V16.5h-1.5m-15 0h15" /></svg></div><h2 class="text-xl font-bold text-gray-800">Right Law</h2></div><p class="text-gray-600">Premium productivity suite for lawyers. Streamline case management and document drafting.</p></div><div class="p-4 bg-gray-50 border-t border-gray-200"><button id="contact-rightlaw" class="w-full bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors">Request Slot</button></div></div>
                    </div>
                </section>
            </main>
        </div>
    </div>
    
    <div id="generic-modal-container"></div> <div id="consultation-modal" class="modal-container fixed inset-0 z-50 flex items-center justify-center hidden opacity-0 bg-black bg-opacity-60"><div class="modal-content bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 p-6 transform scale-95 transition-transform duration-300"><div class="flex items-start justify-between"><div><h3 class="text-lg font-bold text-gray-900">Book a Consultation</h3><p class="mt-1 text-sm text-gray-500">Contact us to get started with our APIs.</p></div><button class="modal-close-btn p-1 rounded-full hover:bg-gray-200"><svg class="w-6 h-6 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg></button></div><div class="mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4 text-center"><p class="text-sm font-medium text-blue-800">Official Contact Number</p><p class="text-2xl sm:text-3xl font-bold text-blue-900 tracking-widest my-2">9447088525</p><a href="tel:9447088525" class="mt-2 inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700">Call Now</a></div></div></div>
    <div id="rightlaw-modal" class="modal-container fixed inset-0 z-50 flex items-center justify-center hidden opacity-0 bg-black bg-opacity-60"><div class="modal-content bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 p-6 transform scale-95 transition-transform duration-300"><div class="flex items-start justify-between"><div><h3 class="text-lg font-bold text-gray-900">Request a Slot for Right Law</h3><p class="mt-1 text-sm text-gray-500">For booking, please contact our sales team.</p></div><button class="modal-close-btn p-1 rounded-full hover:bg-gray-200"><svg class="w-6 h-6 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg></button></div><div class="mt-6 space-y-4"><div class="bg-indigo-50 border border-indigo-200 rounded-lg p-4 text-center"><p class="text-sm font-medium text-indigo-800">Sales Number 1</p><p class="text-xl font-bold text-indigo-900 tracking-wider my-1">9495988525</p><a href="tel:9495988525" class="mt-1 inline-flex items-center justify-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700">Call Now</a></div><div class="bg-indigo-50 border border-indigo-200 rounded-lg p-4 text-center"><p class="text-sm font-medium text-indigo-800">Sales Number 2</p><p class="text-xl font-bold text-indigo-900 tracking-wider my-1">6282887240</p><a href="tel:6282887240" class="mt-1 inline-flex items-center justify-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700">Call Now</a></div></div></div></div>
    <div id="create-project-modal" class="modal-container fixed inset-0 z-50 flex items-center justify-center hidden opacity-0 bg-black bg-opacity-60"><div class="modal-content bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 p-6 transform scale-95 transition-transform duration-300"><div class="flex items-start justify-between"><div><h3 class="text-lg font-bold text-gray-900">Create New Project</h3><p class="mt-1 text-sm text-gray-500">Enter a name for your new project.</p></div><button class="modal-close-btn p-1 rounded-full hover:bg-gray-200"><svg class="w-6 h-6 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg></button></div><div class="mt-6"><label for="project-name-input" class="block text-sm font-medium text-gray-700">Project Name</label><div class="mt-1"><input type="text" id="project-name-input" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" placeholder="My Awesome App"></div></div><div class="mt-6 flex justify-end gap-3"><button type="button" class="modal-cancel-btn bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50">Cancel</button><button id="confirm-create-project-btn" type="button" class="inline-flex justify-center rounded-md border border-transparent bg-blue-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-blue-700">Create</button></div></div></div>
    <div id="setup-billing-modal" class="modal-container fixed inset-0 z-50 flex items-center justify-center hidden opacity-0 bg-black bg-opacity-60"><div class="modal-content bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 p-6 transform scale-95 transition-transform duration-300"><div class="flex items-start justify-between"><div><h3 class="text-lg font-bold text-gray-900">Setup Billing</h3><p class="mt-1 text-sm text-gray-500">Contact us to activate billing for your account.</p></div><button class="modal-close-btn p-1 rounded-full hover:bg-gray-200"><svg class="w-6 h-6 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg></button></div><div class="mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4 text-center"><p class="text-sm font-medium text-blue-800">Activation Contact Number</p><p class="text-2xl sm:text-3xl font-bold text-blue-900 tracking-widest my-2">9447088525</p><p class="text-xs text-gray-500">Call this number to link a payment method. For this demo, clicking 'Activate' will simulate the process.</p><div class="mt-6 flex justify-end gap-3"><button type="button" class="modal-cancel-btn bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50">Cancel</button><button id="confirm-billing-btn" type="button" class="inline-flex justify-center rounded-md border border-transparent bg-blue-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-blue-700">Activate</button></div></div></div></div>

    <div id="notification" class="fixed bottom-5 right-5 bg-green-500 text-white py-3 px-5 rounded-lg shadow-xl opacity-0 transform translate-y-10 z-50"><p id="notification-message">Notification message</p></div>
    <textarea id="copy-helper" class="absolute -left-full"></textarea>
    
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        
        // --- State Management ---
        const AppState = {
            credits: 500,
            apiKeys: [],
            projects: ['Default Project'],
            activeProject: 'Default Project',
            billingActive: false,
            playgroundUnlocked: false, // New state for playground access
        };

        // --- DOM Elements ---
        const DOMElements = {
            introOverlay: document.getElementById('intro-overlay'),
            introText: document.getElementById('intro-text'),
            appContainer: document.getElementById('app-container'),
            mainContentArea: document.querySelector('.main-content-area'),
            creditAmount: document.getElementById('credit-amount'),
            tryAgnidevaBtn: document.getElementById('try-agnideva'),
            contactRightLawBtn: document.getElementById('contact-rightlaw'),
            notification: document.getElementById('notification'),
            notificationMessage: document.getElementById('notification-message'),
            menuBtn: document.getElementById('menu-btn'),
            sidebar: document.getElementById('sidebar'),
            headerTitle: document.getElementById('header-title'),
            navLinks: document.querySelectorAll('.nav-link'),
            tabButtons: document.querySelectorAll('.tab-btn'),
            tabContents: document.querySelectorAll('.tab-content'),
            generateKeyBtn: document.getElementById('generate-key-btn'),
            apiKeyList: document.getElementById('api-key-list'),
            copyHelper: document.getElementById('copy-helper'),
            copyModelIdBtns: document.querySelectorAll('.copy-model-id-btn'),
            bookCallBtn: document.getElementById('book-call-btn'),
            createProjectBtn: document.getElementById('create-project-btn'),
            projectSelector: document.getElementById('project-selector'),
            setupBillingBtn: document.getElementById('setup-billing-btn'),
            billingStatusText: document.getElementById('billing-status-text'),
            createProjectModal: document.getElementById('create-project-modal'),
            projectNameInput: document.getElementById('project-name-input'),
            confirmCreateProjectBtn: document.getElementById('confirm-create-project-btn'),
            setupBillingModal: document.getElementById('setup-billing-modal'),
            confirmBillingBtn: document.getElementById('confirm-billing-btn'),
            usageChartContainer: document.getElementById('usage-chart-container'),
            playground: {
                chatWindow: document.getElementById('playground-chat-window'),
                input: document.getElementById('playground-input'),
                sendBtn: document.getElementById('playground-send-btn'),
                modelSelect: document.getElementById('playground-model-select'),
            },
            staticModals: {
                consultation: document.getElementById('consultation-modal'),
                rightlaw: document.getElementById('rightlaw-modal'),
            }
        };

        // --- Utility Functions ---
        const Utils = {
            showNotification(message, isError = false) {
                DOMElements.notificationMessage.textContent = message;
                DOMElements.notification.className = `fixed bottom-5 right-5 text-white py-3 px-5 rounded-lg shadow-xl z-50 transition-all duration-300 ${isError ? 'bg-red-500' : 'bg-green-500'}`;
                DOMElements.notification.classList.remove('opacity-0', 'translate-y-10');
                setTimeout(() => {
                    DOMElements.notification.classList.add('opacity-0', 'translate-y-10');
                }, 3000);
            },
            copyToClipboard(text, successMessage) {
                DOMElements.copyHelper.value = text;
                DOMElements.copyHelper.select();
                document.execCommand('copy');
                this.showNotification(successMessage || 'Copied to clipboard!');
            },
            openModal(modalId) {
                const modal = document.getElementById(modalId);
                if (!modal) return;
                modal.classList.remove('hidden');
                setTimeout(() => {
                    modal.classList.add('flex');
                    modal.classList.remove('opacity-0');
                    modal.querySelector('.modal-content').classList.remove('scale-95');
                }, 10);
            },
            closeModal(modal) {
                if (!modal) return;
                modal.classList.add('opacity-0');
                modal.querySelector('.modal-content').classList.add('scale-95');
                setTimeout(() => {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                }, 300);
            },
            createGenericModal(id, title, content, actions) {
                const container = document.getElementById('generic-modal-container');
                const modalHTML = `
                    <div id="${id}" class="modal-container fixed inset-0 z-50 flex items-center justify-center hidden opacity-0 bg-black bg-opacity-60">
                        <div class="modal-content bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 p-6 transform scale-95 transition-transform duration-300">
                            <h3 class="text-lg font-bold text-gray-900">${title}</h3>
                            <div class="mt-2 text-sm text-gray-600">${content}</div>
                            <div class="mt-6 flex justify-end gap-3">${actions}</div>
                        </div>
                    </div>`;
                container.innerHTML = modalHTML;
                const modal = document.getElementById(id);
                modal.addEventListener('click', (e) => { if (e.target === modal) this.closeModal(modal); });
                return modal;
            },
            toggleButtonLoading(button, isLoading, originalContent = '') {
                if (isLoading) {
                    button.dataset.originalContent = button.innerHTML;
                    button.innerHTML = '<div class="spinner"></div>';
                    button.disabled = true;
                } else {
                    button.innerHTML = button.dataset.originalContent || originalContent;
                    button.disabled = false;
                }
            }
        };

        // --- Core Application Logic ---
        const App = {
            init() {
                this.runIntro();
                this.loadState();
                this.bindEventListeners();
                this.renderAll();
            },
            runIntro() {
                const text = "Right Solutions";
                let i = 0;
                function type() {
                    if (i < text.length) {
                        DOMElements.introText.innerHTML += `<span>${text.charAt(i)}</span>`;
                        i++;
                        setTimeout(type, 150);
                    }
                }
                type();

                setTimeout(() => {
                    DOMElements.introOverlay.classList.add('opacity-0');
                    document.body.style.overflow = 'auto'; // Restore scrollbar
                    DOMElements.appContainer.classList.remove('opacity-0');
                    setTimeout(() => {
                        DOMElements.introOverlay.classList.add('hidden');
                        DOMElements.mainContentArea.classList.add('loaded');
                    }, 700);
                }, 3000);
            },
            saveState() {
                localStorage.setItem('rightSolutionsState', JSON.stringify(AppState));
            },
            loadState() {
                const savedState = localStorage.getItem('rightSolutionsState');
                if (savedState) {
                    const parsedState = JSON.parse(savedState);
                    Object.assign(AppState, parsedState);
                }
            },
            renderAll() {
                this.renderCredits();
                this.renderProjects();
                this.renderBillingStatus();
                this.renderApiKeys();
                this.renderAgnidevaButton();
                DOMElements.playground.chatWindow.innerHTML = '';
                this.addMessageToPlayground("Hello! I am Sahrasashakthi, an Indian LLM from Right Solutions A.I. in Alappuzha. How can I help you today?", 'ai');
                if (!AppState.playgroundUnlocked) {
                    this.addMessageToPlayground("The Playground is a premium feature. Send a message to get started and unlock it for â‚¹600 credits.", 'ai');
                }
                document.querySelector('.nav-link[href="#dashboard"]').classList.add('active');
            },
            renderCredits() {
                DOMElements.creditAmount.textContent = AppState.credits;
            },
            renderProjects() {
                DOMElements.projectSelector.innerHTML = '';
                AppState.projects.forEach(p => {
                    const option = document.createElement('option');
                    option.value = p;
                    option.textContent = p;
                    if (p === AppState.activeProject) option.selected = true;
                    DOMElements.projectSelector.appendChild(option);
                });
            },
            renderBillingStatus() {
                if (AppState.billingActive) {
                    DOMElements.billingStatusText.textContent = 'Active';
                    DOMElements.billingStatusText.className = 'text-2xl font-bold mt-2 text-green-500';
                    DOMElements.setupBillingBtn.textContent = 'Manage Billing';
                } else {
                    DOMElements.billingStatusText.textContent = 'Inactive';
                    DOMElements.billingStatusText.className = 'text-2xl font-bold mt-2 text-red-500';
                    DOMElements.setupBillingBtn.textContent = 'Setup Billing';
                }
            },
            renderAgnidevaButton() {
                DOMElements.tryAgnidevaBtn.disabled = AppState.credits < 200;
            },
            renderApiKeys() {
                DOMElements.apiKeyList.innerHTML = '';
                if(AppState.apiKeys.length === 0) {
                     DOMElements.apiKeyList.innerHTML = `<div class="text-center text-gray-500 p-4 border-2 border-dashed rounded-lg">You haven't generated any API keys yet.</div>`;
                     return;
                }

                const table = document.createElement('table');
                table.className = 'min-w-full divide-y divide-gray-300';
                table.innerHTML = `
                    <thead><tr>
                        <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0">Name</th>
                        <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Key</th>
                        <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Created</th>
                        <th scope="col" class="relative py-3.5 pl-3 pr-4 sm:pr-0"></th>
                    </tr></thead>
                    <tbody class="divide-y divide-gray-200"></tbody>`;
                
                const tbody = table.querySelector('tbody');
                AppState.apiKeys.forEach(key => {
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
                        <td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0">${key.name}</td>
                        <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 font-mono">${key.display}</td>
                        <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">${new Date(key.created).toLocaleDateString()}</td>
                        <td class="relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0">
                            <button class="text-red-600 hover:text-red-900 revoke-key-btn" data-key="${key.id}">Revoke</button>
                        </td>`;
                    tbody.appendChild(tr);
                });
                DOMElements.apiKeyList.appendChild(table);
            },
            renderUsageChart() {
                DOMElements.usageChartContainer.innerHTML = '';
                const days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
                days.forEach(day => {
                    const height = Math.floor(Math.random() * 80) + 10;
                    const barHtml = `
                        <div class="w-1/12 text-center flex flex-col justify-end h-full">
                            <div class="usage-bar bg-blue-400 rounded-t-md w-full mx-auto" style="height: 0%;"></div>
                            <span class="text-xs text-gray-500 mt-1">${day}</span>
                        </div>`;
                    DOMElements.usageChartContainer.insertAdjacentHTML('beforeend', barHtml);
                    setTimeout(() => {
                         const bar = DOMElements.usageChartContainer.lastChild.querySelector('.usage-bar');
                         if(bar) bar.style.height = `${height}%`;
                    }, 100);
                });
            },
            addMessageToPlayground(message, sender = 'ai') {
                const messageDiv = document.createElement('div');
                const bubbleDiv = document.createElement('div');
                
                if (sender === 'typing') {
                    bubbleDiv.innerHTML = `<div class="flex items-center space-x-1">
                        <span class="w-2 h-2 bg-white rounded-full animate-pulse" style="animation-delay: 0s;"></span>
                        <span class="w-2 h-2 bg-white rounded-full animate-pulse" style="animation-delay: 0.2s;"></span>
                        <span class="w-2 h-2 bg-white rounded-full animate-pulse" style="animation-delay: 0.4s;"></span>
                    </div>`;
                } else {
                    bubbleDiv.textContent = message;
                }
                
                if (sender === 'user') {
                    messageDiv.className = 'flex justify-end';
                    bubbleDiv.className = 'bg-gray-200 text-gray-800 p-3 rounded-lg max-w-lg break-words';
                } else {
                    messageDiv.className = 'flex justify-start';
                    bubbleDiv.className = 'bg-blue-600 text-white p-3 rounded-lg max-w-lg break-words';
                }
                messageDiv.appendChild(bubbleDiv);
                DOMElements.playground.chatWindow.appendChild(messageDiv);
                DOMElements.playground.chatWindow.scrollTop = DOMElements.playground.chatWindow.scrollHeight;
                return messageDiv;
            },
            handleEvent(e) {
                const target = e.target;
                const id = target.id;
                const classList = target.classList;

                // Modals
                if (classList.contains('modal-close-btn') || classList.contains('modal-cancel-btn')) {
                    Utils.closeModal(target.closest('.modal-container'));
                }
                if (classList.contains('modal-container')) {
                     Utils.closeModal(target);
                }
                if (id === 'book-call-btn') Utils.openModal('consultation-modal');
                if (id === 'contact-rightlaw') Utils.openModal('rightlaw-modal');
                if (id === 'create-project-btn') Utils.openModal('create-project-modal');
                if (id === 'setup-billing-btn') Utils.openModal('setup-billing-modal');
                
                // Dashboard Actions
                if (id === 'confirm-create-project-btn') this.createProject();
                if (id === 'confirm-billing-btn') this.activateBilling();
                if (id === 'project-selector') this.switchProject(target.value);

                // Dev Platform
                if (classList.contains('tab-btn')) this.switchTab(target.dataset.tab);
                if (classList.contains('copy-model-id-btn')) Utils.copyToClipboard(target.dataset.id, 'Model ID copied!');
                if (id === 'generate-key-btn') this.generateApiKey();
                if (classList.contains('revoke-key-btn')) this.promptRevokeKey(target.dataset.key);

                // Marketplace
                if (id === 'try-agnideva') this.promptTryAgnideva();

                // Playground
                if (id === 'playground-send-btn') this.handlePlaygroundSend();
                if (id === 'playground-input' && e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    this.handlePlaygroundSend();
                }

                // Sidebar
                if (id === 'menu-btn') DOMElements.sidebar.classList.toggle('hidden-mobile');
                if (classList.contains('nav-link')) this.handleNavClick(target);
            },
            bindEventListeners() {
                document.body.addEventListener('click', this.handleEvent.bind(this));
                document.body.addEventListener('change', this.handleEvent.bind(this));
                document.body.addEventListener('keydown', this.handleEvent.bind(this));
            },
            handleNavClick(link) {
                DOMElements.headerTitle.textContent = link.textContent.trim();
                DOMElements.navLinks.forEach(l => l.classList.remove('active'));
                link.classList.add('active');
                if (window.innerWidth < 768) DOMElements.sidebar.classList.add('hidden-mobile');
                // Scroll to the section
                const sectionId = link.getAttribute('href');
                document.querySelector(sectionId)?.scrollIntoView({ behavior: 'smooth' });
            },
            createProject() {
                const name = DOMElements.projectNameInput.value.trim();
                if (name && !AppState.projects.includes(name)) {
                    AppState.projects.push(name);
                    AppState.activeProject = name;
                    this.saveState();
                    this.renderProjects();
                    Utils.closeModal(DOMElements.createProjectModal);
                    Utils.showNotification(`Project "${name}" created successfully!`);
                    DOMElements.projectNameInput.value = '';
                } else if (!name) {
                    Utils.showNotification('Please enter a valid project name.', true);
                } else {
                    Utils.showNotification(`Project name "${name}" already exists.`, true);
                }
            },
            switchProject(projectName) {
                AppState.activeProject = projectName;
                this.saveState();
                Utils.showNotification(`Switched to project "${projectName}"`);
            },
            activateBilling() {
                AppState.billingActive = true;
                this.saveState();
                this.renderBillingStatus();
                Utils.closeModal(DOMElements.setupBillingModal);
                Utils.showNotification('Billing has been activated!', false);
            },
            switchTab(tabId) {
                DOMElements.tabButtons.forEach(btn => btn.classList.toggle('tab-active', btn.dataset.tab === tabId));
                DOMElements.tabContents.forEach(content => content.classList.toggle('hidden', content.id !== `tab-content-${tabId}`));
                if (tabId === 'usage') this.renderUsageChart();
            },
            generateApiKey() {
                const newKeyName = `My Key #${AppState.apiKeys.length + 1}`;
                const keyId = `rs_key_${Date.now()}`;
                const secret = `sk-rs-${[...Array(32)].map(() => Math.random().toString(36)[2]).join('')}`;
                
                AppState.apiKeys.push({
                    id: keyId,
                    name: newKeyName,
                    secret: secret, // Store the full secret
                    display: `${secret.substring(0, 10)}...`, // But only show part of it
                    created: new Date().toISOString()
                });
                
                this.saveState();
                this.renderApiKeys();
                
                // Show modal with the full key
                const actions = `<button type="button" class="copy-new-key-btn bg-blue-600 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-blue-700">Copy & Close</button>`;
                const content = `
                    <p>Your new secret key has been generated. This is the only time it will be displayed. Please copy it and store it in a safe place.</p>
                    <div class="mt-4 bg-gray-100 p-3 rounded-md font-mono text-sm break-all">${secret}</div>`;
                const modal = Utils.createGenericModal('new-key-modal', 'New Secret Key Generated', content, actions);
                modal.querySelector('.copy-new-key-btn').onclick = () => {
                    Utils.copyToClipboard(secret, 'New API key copied!');
                    Utils.closeModal(modal);
                };
                Utils.openModal('new-key-modal');
            },
            promptRevokeKey(keyId) {
                 const keyToRevoke = AppState.apiKeys.find(k => k.id === keyId);
                 if (!keyToRevoke) return;
                 const actions = `
                    <button class="modal-cancel-btn bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50">Cancel</button>
                    <button id="confirm-revoke" class="bg-red-600 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-red-700">Revoke</button>`;
                 const content = `Are you sure you want to revoke the key named <strong>${keyToRevoke.name}</strong>? This action cannot be undone.`;
                 const modal = Utils.createGenericModal('revoke-key-modal', 'Confirm Revocation', content, actions);
                 modal.querySelector('#confirm-revoke').onclick = () => {
                     AppState.apiKeys = AppState.apiKeys.filter(k => k.id !== keyId);
                     this.saveState();
                     this.renderApiKeys();
                     Utils.showNotification(`Key "${keyToRevoke.name}" has been revoked.`);
                     Utils.closeModal(modal);
                 };
                 Utils.openModal('revoke-key-modal');
            },
            promptTryAgnideva() {
                const cost = 200;
                const actions = `
                    <button class="modal-cancel-btn bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50">Cancel</button>
                    <button id="confirm-agnideva" class="bg-red-600 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-red-700">Confirm & Pay</button>`;
                const content = `This will deduct <strong>â‚¹${cost}</strong> from your credits. Your new balance will be <strong>â‚¹${AppState.credits - cost}</strong>. Do you want to proceed?`;
                const modal = Utils.createGenericModal('try-agnideva-modal', 'Confirm Purchase', content, actions);
                modal.querySelector('#confirm-agnideva').onclick = () => {
                    AppState.credits -= cost;
                    this.saveState();
                    this.renderCredits();
                    this.renderAgnidevaButton();
                    Utils.showNotification(`Purchase successful! You can now access Agnideva.AI.`);
                    Utils.closeModal(modal);
                };
                Utils.openModal('try-agnideva-modal');
            },
            promptUnlockPlayground() {
                const cost = 600;
                if (AppState.credits < cost) {
                    Utils.showNotification("You do not have enough credits to unlock the playground.", true);
                    return;
                }

                const actions = `
                    <button class="modal-cancel-btn bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50">Cancel</button>
                    <button id="confirm-unlock" class="bg-blue-600 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-blue-700">Unlock Now</button>`;
                const content = `Unlock the Model Playground for a one-time cost of <strong>â‚¹${cost} credits</strong>? Your new balance will be <strong>â‚¹${AppState.credits - cost}</strong>.`;
                const modal = Utils.createGenericModal('unlock-playground-modal', 'Unlock Premium Feature', content, actions);
                
                modal.querySelector('#confirm-unlock').onclick = () => {
                    AppState.credits -= cost;
                    AppState.playgroundUnlocked = true;
                    this.saveState();
                    this.renderCredits();
                    this.renderAgnidevaButton();
                    Utils.showNotification(`Playground access unlocked! You can now test the models.`);
                    this.addMessageToPlayground("Playground unlocked! You can now test your prompts here.", 'ai');
                    Utils.closeModal(modal);
                };
                Utils.openModal('unlock-playground-modal');
            },
            handlePlaygroundSend() {
                const prompt = DOMElements.playground.input.value.trim();
                if (!prompt) return;

                // Check if playground is unlocked
                if (!AppState.playgroundUnlocked) {
                    this.promptUnlockPlayground();
                    return;
                }

                Utils.toggleButtonLoading(DOMElements.playground.sendBtn, true);
                DOMElements.playground.input.value = '';
                DOMElements.playground.input.disabled = true;

                this.addMessageToPlayground(prompt, 'user');
                const typingIndicator = this.addMessageToPlayground('', 'typing');

                // Simulate AI response
                setTimeout(() => {
                    typingIndicator.remove();
                    const modelName = DOMElements.playground.modelSelect.options[DOMElements.playground.modelSelect.selectedIndex].text;
                    const aiResponse = `This is a simulated response from ${modelName}. The full model capabilities are accessible via the API. Thank you for testing!`;
                    this.addMessageToPlayground(aiResponse, 'ai');
                    
                    Utils.toggleButtonLoading(DOMElements.playground.sendBtn, false);
                    DOMElements.playground.input.disabled = false;
                    DOMElements.playground.input.focus();
                }, 1500);
            }
        };

        App.init();
    });
    </script>
</body>
</html>
